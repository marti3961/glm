<div class="card shadow rounded-0">
  <div class="p-3">
    <h3><i class="fa-solid fa-building"></i> Proyecto</h3>
  </div>
  <div class="card-body ag-theme-quartz">
    <div class="container py-4">
      <div class="row">
        <div class="col-6">
          <h4>Descripción del Proyecto</h4>
          <div class="form-floating mb-3">
            <input type="text" id="id" [(ngModel)]="proyecto.id" name="id" class="form-control" required>
            <label for="id">URL para el Proyecto *</label>
          </div>
          <div class="form-floating mb-3">
            <input type="text" id="title" [(ngModel)]="proyecto.title" name="title" class="form-control" required>
            <label for="title">Título *</label>
          </div>
          <div class="form-floating mb-3">
            <input type="text" id="description_short" [(ngModel)]="proyecto.description_short" name="description_short" class="form-control">
            <label for="description_short">Descripción corta *</label>
          </div>
          <div class="mb-3 " style="width: 100%;">
             <quill-editor [(ngModel)]="proyecto.description_long" [styles]="{ height: '450px', width:'100%' }" class="w-100" [modules]="modules" theme="snow"></quill-editor>
          </div>
          <h4>Imágenes</h4>
          <div class="mb-3">
            <label for="images" class="form-label">Imágenes (múltiples)</label>
            <input type="file" id="images" name="images" class="form-control" (change)="onImagesSelected($event)" multiple accept="image/*">
          </div>
          <div class="mb-3">
            <label class="form-label">Imágenes actuales</label>
            <div class="d-flex flex-wrap gap-2">
              <ng-container *ngFor="let img of proyecto.images">
                <div class="border rounded p-1" style="width: 120px; height: 120px; overflow: hidden;">
                  <img [src]="api_url + img" alt="Imagen del proyecto" class="img-fluid h-100 w-100 object-fit-cover" />
                </div>
              </ng-container>
            </div>
          </div>
          <div class="mb-3">
            <label for="image_mini" class="form-label">Imagen miniatura</label>
            <input type="file" id="image_mini" name="image_mini" class="form-control" (change)="onImageMiniSelected($event)" accept="image/*">
          </div>
          <div class="mb-3">
            <label class="form-label">Imagen miniatura actual</label>
            <div class="border rounded p-1" style="width: 120px; height: 120px; overflow: hidden;" *ngIf="proyecto.image_mini">
              <img [src]="api_url + proyecto.image_mini" alt="Imagen miniatura" class="img-fluid h-100 w-100 object-fit-cover" />
            </div>
          </div>
          <!-- <div class="form-floating mb-3">
            <input type="text" id="location_details" [(ngModel)]="proyecto.location_details" name="location_details" class="form-control">
            <label for="location_details">Ubicación (JSON)</label>
          </div>
          <div class="form-floating mb-3">
            <input type="text" id="features" [(ngModel)]="proyecto.features" name="features" class="form-control">
            <label for="features">Características (JSON)</label>
          </div>
          <div class="form-floating mb-3">
            <input type="text" id="investment_info" [(ngModel)]="proyecto.investment_info" name="investment_info" class="form-control">
            <label for="investment_info">Información de inversión (JSON)</label>
          </div>
          <div class="form-floating mb-3">
            <input type="text" id="facebook_link" [(ngModel)]="proyecto.facebook_link" name="facebook_link" class="form-control">
            <label for="facebook_link">Facebook</label>
          </div> -->
        </div>
        <div class="col-6">
          <h4>Información</h4>
          <div class="form-floating mb-3">
            <input type="text" id="type" [(ngModel)]="proyecto.type" name="type" class="form-control">
            <label for="type">Tipo</label>
          </div>
          <div class="form-floating mb-3">
            <input type="text" id="address" [(ngModel)]="proyecto.address" name="address" class="form-control">
            <label for="address">Dirección</label>
          </div>
          <div class="form-floating mb-3">
            <input type="text" id="status" [(ngModel)]="proyecto.status" name="status" class="form-control">
            <label for="status">Estatus</label>
          </div>
          <div class="form-floating mb-3">
            <input type="text" id="land_area" [(ngModel)]="proyecto.land_area" name="land_area" class="form-control">
            <label for="land_area">Área de terreno</label>
          </div>
          <div class="form-floating mb-3">
            <input type="text" id="construction_area" [(ngModel)]="proyecto.construction_area" name="construction_area" class="form-control">
            <label for="construction_area">Área de construcción</label>
          </div>
          <div class="form-floating mb-3">
            <input type="text" id="price" [(ngModel)]="proyecto.price" name="price" class="form-control">
            <label for="price">Precio</label>
          </div>

          <div class="form-floating mb-3">
            <input type="text" id="map_src" [(ngModel)]="proyecto.map_src" name="map_src" class="form-control">
            <label for="map_src">Mapa (URL)</label>
          </div>
          <!-- <div class="form-floating mb-3">
            <input type="text" id="created_at" [(ngModel)]="proyecto.created_at" name="created_at" class="form-control" readonly>
            <label for="created_at">Creado</label>
          </div>
          <div class="form-floating mb-3">
            <input type="text" id="updated_at" [(ngModel)]="proyecto.updated_at" name="updated_at" class="form-control" readonly>
            <label for="updated_at">Actualizado</label>
          </div> -->

          <div class="btn-toolbar mt-5 justify-content-end">
            <button type="button" class="btn btn-secondary me-2" (click)="cancel()">Cancelar</button>
            <button type="button" class="btn btn-primary me-2" (click)="onSubmit()">Guardar Cambios</button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
